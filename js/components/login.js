function registration(){var b={name:$('#reg_name'),email:$('#reg_email'),password:$('#reg_password'),reply_password:$('#reg_repeat_password')},$reg_send=$('#reg_send'),reg_request={name:$.trim(b.name.val()),email:$.trim(b.email.val()),password:$.trim(b.password.val()),reply_password:$.trim(b.reply_password.val())},reg_error=false;if(!ruleRegex.test(reg_request.name)){b.name.addClass('error');reg_error=true}if(!emailRegex.test(reg_request.email)){b.email.addClass('error');reg_error=true}if(!ruleRegex.test(reg_request.password)){b.password.addClass('error');reg_error=true}if(!ruleRegex.test(reg_request.reply_password)){b.reply_password.addClass('error');reg_error=true}if(reg_request.password!=reg_request.reply_password){b.password.addClass('error');b.reply_password.addClass('error');reg_error=true}if(!reg_error){$reg_send.html('<span>'+get_lang('Відправка запиту')+'...'+'</span>');$.post(full_url('profile/create'),reg_request,function(a){if(a.success){$('#reg_form').html(get_lang('profile_create'))}else{b.email.addClass('error');$reg_send.text(get_lang('Зареєструватись'))}},'json')}}$(function(){$('#reg_send').on('click',function(e){e.preventDefault();$(this).closest('form').submit()});$('#reg_form').on('keyup blur paste','input',function(e){if(e.keyCode==13){$(this).closest('form').submit()}else{var a=$.trim($(this).val());if(ruleRegex.test(a))$(this).removeClass('error')}}).on('submit',function(e){e.preventDefault();registration()})});function login(){var b={email:$('#login_email'),password:$('#login_password')},$login_send=$('#login_send'),login_request={email:$.trim(b.email.val()),password:$.trim(b.password.val())},login_error=false;if(!emailRegex.test(login_request.email)){b.email.addClass('error');login_error=true}if(!ruleRegex.test(login_request.password)){b.password.addClass('error');login_error=true}if(!login_error){$login_send.html('<span>'+get_lang('Відправка запиту')+'...'+'</span>');$.post(full_url('profile/enter'),login_request,function(a){if(a.success){window.location.href=full_url('profile/orders')}else{b.email.addClass('error');b.password.addClass('error');$login_send.text(get_lang('Увійти'))}},'json')}}$(function(){$('#login_send').on('click',function(e){e.preventDefault();$(this).closest('form').submit()});$('#login_form').on('keyup blur paste','input',function(e){if(e.keyCode==13){$(this).closest('form').submit()}else{var a=$.trim($(this).val());if(ruleRegex.test(a))$(this).removeClass('error')}}).on('submit',function(e){e.preventDefault();login()})});